<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) on Wed Mar 29 19:13:17 EDT 2023 -->
<title>ConfirmPurchasePageController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-03-29">
<meta name="description" content="declaration: package: edu.sru.cpsc.webshopping.controller.purchase, class: ConfirmPurchasePageController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ConfirmPurchasePageController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">edu.sru.cpsc.webshopping.controller.purchase</a></div>
<h1 title="Class ConfirmPurchasePageController" class="title">Class ConfirmPurchasePageController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">edu.sru.cpsc.webshopping.controller.purchase.ConfirmPurchasePageController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Controller
</span><span class="modifiers">public class </span><span class="element-name type-name-label">ConfirmPurchasePageController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Manages functionality for the confirmPurchase page
 This page is used to verify payment details, and to submit the purchase/
 create the associated transaction</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelPurchase()" class="member-name-link">cancelPurchase</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to cancel the purchase</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelPurchase(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails)" class="member-name-link">cancelPurchase</a><wbr>(<a href="../../domain/billing/PaymentDetails.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails</a>&nbsp;paymentDetails)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cancels the purchase
 The user is returned to the viewMarketListing page they attempted to purchase from
 No changes are made</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelPurchaseExistingCard(java.lang.String)" class="member-name-link">cancelPurchaseExistingCard</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;existingSecurityCode)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cancels the purchase
 The user is returned to the viewMarketListing page they attempted to purchase from
 No changes are made</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelPurchasePaypal(edu.sru.cpsc.webshopping.domain.billing.Paypal_Form,org.springframework.validation.BindingResult,org.springframework.ui.Model)" class="member-name-link">cancelPurchasePaypal</a><wbr>(<a href="../../domain/billing/Paypal_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">Paypal_Form</a>&nbsp;paypal,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to cancel the purchase</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openConfirmPurchasePage(edu.sru.cpsc.webshopping.domain.billing.ShippingAddress,edu.sru.cpsc.webshopping.domain.market.MarketListing,edu.sru.cpsc.webshopping.domain.market.Transaction,org.springframework.ui.Model)" class="member-name-link">openConfirmPurchasePage</a><wbr>(<a href="../../domain/billing/ShippingAddress.html" title="class in edu.sru.cpsc.webshopping.domain.billing">ShippingAddress</a>&nbsp;address,
 <a href="../../domain/market/MarketListing.html" title="class in edu.sru.cpsc.webshopping.domain.market">MarketListing</a>&nbsp;prevListing,
 <a href="../../domain/market/Transaction.html" title="class in edu.sru.cpsc.webshopping.domain.market">Transaction</a>&nbsp;purchaseOrder,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes the confirmPurchase page</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#paymentDetailsExpired(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails_Form)" class="member-name-link">paymentDetailsExpired</a><wbr>(<a href="../../domain/billing/PaymentDetails_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails_Form</a>&nbsp;form)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the passed PaymentDetails are expired</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#paymentDetailsInvalid(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails_Form)" class="member-name-link">paymentDetailsInvalid</a><wbr>(<a href="../../domain/billing/PaymentDetails_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails_Form</a>&nbsp;form)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the PaymentDetails fails constraints that are not represented by
 the Spring Validation annotations
 These constraints are: expiration date must be before the current date</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitPurchase(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails_Form,org.springframework.validation.BindingResult,org.springframework.ui.Model)" class="member-name-link">submitPurchase</a><wbr>(<a href="../../domain/billing/PaymentDetails_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails_Form</a>&nbsp;paymentDetails,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to confirm the purchase
 If successful, the associated Transaction is saved to the database,
 and the number of available items for the MarketListing is decreased by 
 the number of purchased items
 The variables are passed by dependency injection</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitPurchaseExistingCard(java.lang.Long,java.lang.String,org.springframework.validation.BindingResult,org.springframework.ui.Model)" class="member-name-link">submitPurchaseExistingCard</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;existingSecurityCode,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Allow the user to use their currently saved Card details
 by validating using the security code
 If successful, the associated Transaction is saved to the database,
 and the number of available items for the MarketListing is decreased by 
 the number of purchased items
 The variables are passed by dependency injection</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitPurchasePaypal(edu.sru.cpsc.webshopping.domain.billing.Paypal_Form,org.springframework.validation.BindingResult,org.springframework.ui.Model)" class="member-name-link">submitPurchasePaypal</a><wbr>(<a href="../../domain/billing/Paypal_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">Paypal_Form</a>&nbsp;paypal,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to submit the purchase via Paypal</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="openConfirmPurchasePage(edu.sru.cpsc.webshopping.domain.billing.ShippingAddress,edu.sru.cpsc.webshopping.domain.market.MarketListing,edu.sru.cpsc.webshopping.domain.market.Transaction,org.springframework.ui.Model)">
<h3>openConfirmPurchasePage</h3>
<div class="member-signature"><span class="annotations">@RequestMapping("/confirmPurchase")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">openConfirmPurchasePage</span><wbr><span class="parameters">(<a href="../../domain/billing/ShippingAddress.html" title="class in edu.sru.cpsc.webshopping.domain.billing">ShippingAddress</a>&nbsp;address,
 <a href="../../domain/market/MarketListing.html" title="class in edu.sru.cpsc.webshopping.domain.market">MarketListing</a>&nbsp;prevListing,
 <a href="../../domain/market/Transaction.html" title="class in edu.sru.cpsc.webshopping.domain.market">Transaction</a>&nbsp;purchaseOrder,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Initializes the confirmPurchase page</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>address</code> - the ShippingAddress created from the previous page</dd>
<dd><code>prevListing</code> - the MarketListing that the user wishes to purchase from</dd>
<dd><code>purchaseOrder</code> - in progress Transaction to be saved if the user confirms purchase</dd>
<dd><code>model</code> - Page model from previous page</dd>
<dt>Returns:</dt>
<dd>String for the confirmPurchase page</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitPurchaseExistingCard(java.lang.Long,java.lang.String,org.springframework.validation.BindingResult,org.springframework.ui.Model)">
<h3>submitPurchaseExistingCard</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/confirmPurchase/existingCard",
                method=POST,
                params="submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitPurchaseExistingCard</span><wbr><span class="parameters">(@Validated @ModelAttribute("selected_payment_details")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 @Validated @ModelAttribute("existingSecurityCode")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;existingSecurityCode,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Allow the user to use their currently saved Card details
 by validating using the security code
 If successful, the associated Transaction is saved to the database,
 and the number of available items for the MarketListing is decreased by 
 the number of purchased items
 The variables are passed by dependency injection</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>existingSecurityCode</code> - the existing security code</dd>
<dd><code>result</code> - BindingResult associated with the form</dd>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelPurchaseExistingCard(java.lang.String)">
<h3>cancelPurchaseExistingCard</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/confirmPurchase/existingCard",
                method=POST,
                params="cancel")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">cancelPurchaseExistingCard</span><wbr><span class="parameters">(@Validated @ModelAttribute("existingSecurityCode")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;existingSecurityCode)</span></div>
<div class="block">Cancels the purchase
 The user is returned to the viewMarketListing page they attempted to purchase from
 No changes are made</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>existingSecurityCode</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitPurchase(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails_Form,org.springframework.validation.BindingResult,org.springframework.ui.Model)">
<h3>submitPurchase</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/confirmPurchase/submitPurchase",
                method=POST,
                params="submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitPurchase</span><wbr><span class="parameters">(@Validated @ModelAttribute("paymentDetails")
 <a href="../../domain/billing/PaymentDetails_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails_Form</a>&nbsp;paymentDetails,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Attempts to confirm the purchase
 If successful, the associated Transaction is saved to the database,
 and the number of available items for the MarketListing is decreased by 
 the number of purchased items
 The variables are passed by dependency injection</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>paymentDetails</code> - the PaymentDetails from the form</dd>
<dd><code>result</code> - BindingResult associated with the form</dd>
<dd><code>model</code> - the page model</dd>
<dt>Returns:</dt>
<dd>a redirection to index, if purchase is successful, or the same page, if verification fails</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the user is not logged in</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelPurchase(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails)">
<h3>cancelPurchase</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/confirmPurchase/submitPurchase",
                method=POST,
                params="cancel")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">cancelPurchase</span><wbr><span class="parameters">(@Validated @ModelAttribute("paymentDetails")
 <a href="../../domain/billing/PaymentDetails.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails</a>&nbsp;paymentDetails)</span></div>
<div class="block">Cancels the purchase
 The user is returned to the viewMarketListing page they attempted to purchase from
 No changes are made</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>paymentDetails</code> - passed by the form</dd>
<dt>Returns:</dt>
<dd>a redirection to the viewMarketListing page associated with the listing they attempted to purchase from</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitPurchasePaypal(edu.sru.cpsc.webshopping.domain.billing.Paypal_Form,org.springframework.validation.BindingResult,org.springframework.ui.Model)">
<h3>submitPurchasePaypal</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/confirmPurchase/submitPurchasePaypal",
                method=POST,
                params="submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitPurchasePaypal</span><wbr><span class="parameters">(@Validated @ModelAttribute("paypal")
 <a href="../../domain/billing/Paypal_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">Paypal_Form</a>&nbsp;paypal,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Attempts to submit the purchase via Paypal</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>paypal</code> - Validated Paypal form</dd>
<dd><code>result</code> - BindingResult associated with Paypal form</dd>
<dd><code>model</code> - page model</dd>
<dt>Returns:</dt>
<dd>Returns to the index if successful, reloads the page if failed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelPurchasePaypal(edu.sru.cpsc.webshopping.domain.billing.Paypal_Form,org.springframework.validation.BindingResult,org.springframework.ui.Model)">
<h3>cancelPurchasePaypal</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/confirmPurchase/submitPurchasePaypal",
                method=POST,
                params="cancel")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">cancelPurchasePaypal</span><wbr><span class="parameters">(@Validated @ModelAttribute("paypal")
 <a href="../../domain/billing/Paypal_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">Paypal_Form</a>&nbsp;paypal,
 org.springframework.validation.BindingResult&nbsp;result,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Attempts to cancel the purchase</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>paypal</code> - Validated Paypal form</dd>
<dt>Returns:</dt>
<dd>the MarketListing that the user attempted to purchase from</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelPurchase()">
<h3>cancelPurchase</h3>
<div class="member-signature"><span class="annotations">@RequestMapping(value="/cancel-purchase",
                method=POST)
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">cancelPurchase</span>()</div>
<div class="block">Attempts to cancel the purchase</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>paypal</code> - Validated Paypal form</dd>
<dt>Returns:</dt>
<dd>the MarketListing that the user attempted to purchase from</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="paymentDetailsInvalid(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails_Form)">
<h3>paymentDetailsInvalid</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">paymentDetailsInvalid</span><wbr><span class="parameters">(<a href="../../domain/billing/PaymentDetails_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails_Form</a>&nbsp;form)</span></div>
<div class="block">Returns true if the PaymentDetails fails constraints that are not represented by
 the Spring Validation annotations
 These constraints are: expiration date must be before the current date</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>form</code> - A completed PaymentDetails_Form</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="paymentDetailsExpired(edu.sru.cpsc.webshopping.domain.billing.PaymentDetails_Form)">
<h3>paymentDetailsExpired</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">paymentDetailsExpired</span><wbr><span class="parameters">(<a href="../../domain/billing/PaymentDetails_Form.html" title="class in edu.sru.cpsc.webshopping.domain.billing">PaymentDetails_Form</a>&nbsp;form)</span></div>
<div class="block">Returns true if the passed PaymentDetails are expired</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>form</code> - The PaymentDetails_Form to check is expired</dd>
<dt>Returns:</dt>
<dd>true if the form is expired, false otherwise, and false if the expiration date String is null or empty</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
